import{r as b,j as s,_ as d}from"./app-k_JzQJAj.js";import{L as w}from"./index-BqfCVXHI.js";import{B as y}from"./Button-D7Np_9YZ.js";import{a as N,I as L,o as S,b as R}from"./index-BW-iqRM-.js";import{I as v}from"./Input-CvBCYQ_r.js";import{u as I}from"./index.esm-J7Dohztz.js";import{u as k}from"./index-CD8TrOBz.js";const T=()=>{const[x,n]=b.useState(!1),u=k(),p=new Cookies,{register:f,handleSubmit:g,formState:{errors:c}}=I({resolver:S(R)}),h=async t=>{var o,i,r;n(!0);try{const{status:a,data:e}=await axiosInstance.post("/reset",t);p.set("userLogged",e),d.success("Login is done, you will navigate after 2 seconds!",{position:"bottom-center",duration:4e3}),setTimeout(()=>{u("/")},2e3)}catch(a){const e=a,m=((i=(o=e.response)==null?void 0:o.data.error.details)==null?void 0:i.message)||((r=e.response)==null?void 0:r.data.message);d.error(`Login failed: ${m}`,{position:"bottom-center",duration:1500})}finally{n(!1)}},j=N.map(({name:t,placeholder:o,type:i,forl:r,placel:a,validation:e},m)=>{var l;return s.jsxs("div",{children:[s.jsxs("div",{className:"space-y-2 pb-1",children:[s.jsx("label",{htmlFor:r,className:"text-black text-xl",children:a}),s.jsx(v,{id:r,type:i,placeholder:o,...f(t,e)})]}),c[t]&&s.jsx(L,{msg:(l=c[t])==null?void 0:l.message})]},m)});return s.jsxs("section",{className:"w-[800px] my-20 mx-auto max-sm:w-full max-sm:px-3",children:[s.jsx("h2",{className:"text-primary text-2xl pb-6",children:"Reset Your Password :"}),s.jsxs("form",{className:"w-[800px] space-y-3 mx-auto max-sm:w-full",onSubmit:g(h),children:[j,s.jsx(y,{fullWidth:!0,isLoading:x,children:"Submit"}),s.jsx("div",{className:"flex flex-col space-y-1",children:s.jsxs(w,{to:"/login",className:"text-black",children:["Remember your password?",s.jsx("span",{className:"underline ml-1 text-primary",children:"Login here!"})]})})]})]})};export{T as default};
