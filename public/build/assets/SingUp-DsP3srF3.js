import{r as o,u as L,j as s,L as E,a as k,n as p}from"./app-C0mDOv4d.js";import{I as D}from"./InputErrorMessage-D4NPorAW.js";import{T as R,f as I,L as O}from"./telegram-DHmv4z9l.js";import U from"./NavbarAuth-CIqPBQon.js";import{U as V}from"./index-Bb_tScja.js";import{s as d}from"./index-C4JomMCi.js";import{u as _}from"./index.esm-FO3ghh-R.js";import"./logo2-B8X1GbGV.js";const A="/build/assets/Singup-DZ1oONkR.svg",x="/build/assets/eye-closed-B-VJqXum.svg",h="/build/assets/eye-open-Dbm16VN9.png",X=()=>{const{register:e,handleSubmit:j}=_(),[i,f]=o.useState(!1),[n,y]=o.useState(!1),[a,N]=o.useState(""),w=()=>f(!i),b=()=>y(!n),[F,m]=o.useState(!1),{referral_code:v}=L().props,P=async(l,S)=>{var u,g;S.preventDefault(),m(!0);try{const c={...l,phone:a};(await k.post(d("client.register.post"),c)).data.success&&(p.success("Register is done, you will navigate after 2 seconds!",{position:"bottom-center",duration:4e3}),setTimeout(()=>{Inertia.visit(d("client.login"))},1500))}catch(c){const r=((g=(u=c.response)==null?void 0:u.data)==null?void 0:g.errors)||["An unexpected error occurred"];Array.isArray(r)?r.forEach(t=>{p.error(t,{position:"top-right",duration:4e3})}):Object.keys(r).forEach(t=>{p.error(`${t}: ${r[t]}`,{position:"top-right",duration:4e3})})}finally{m(!1)}};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"login-container",children:[s.jsxs("div",{className:"login-left",children:[s.jsx("p",{children:"Welcome back! Please login to your account."}),s.jsxs("form",{onSubmit:j(P),className:"signup-form-container",children:[s.jsxs("div",{className:"input-group",children:[s.jsx("input",{type:"text",placeholder:"FirstName",...e("first_name")}),s.jsx("input",{type:"text",placeholder:"LastName",...e("last_name")})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("input",{type:"text",placeholder:"Username",...e("username")}),s.jsx("input",{type:"text",placeholder:"Telegram username",...e("telegram")})]}),s.jsx("div",{className:"input-group",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(V,{value:a,defaultCountry:"eg",onChange:l=>N(l)}),(a.trim()===""||a.trim().length<=2)&&s.jsx(D,{msg:"Phone is Required!"})]})}),s.jsx("input",{type:"email",placeholder:"Email",className:"full-width-input",...e("email")}),s.jsxs("div",{className:"password-group",children:[s.jsx("input",{type:i?"text":"password",placeholder:"Password",...e("password")}),s.jsx("span",{className:"toggle-password",onClick:w,children:i?s.jsx("img",{src:h,alt:"eye-open"}):s.jsx("img",{src:x,alt:"eye-closed"})})]}),s.jsxs("div",{className:"password-group",children:[s.jsx("input",{type:n?"text":"password",placeholder:"Password Confirmation",...e("password_confirmation")}),s.jsx("span",{className:"toggle-password",onClick:b,children:n?s.jsx("img",{src:h,alt:"eye-open"}):s.jsx("img",{src:x,alt:"eye-closed"})})]}),s.jsx("input",{type:"text",placeholder:"Referral Code",className:"full-width-input",defaultValue:v,...e("referral_code")}),s.jsxs("div",{className:"button-group",children:[s.jsx("button",{className:"signup-btn",children:"Sign Up"}),s.jsx(E,{className:"login-btn",href:d("client.login"),children:"Login"})]})]}),s.jsxs("div",{className:"social-icons",children:[s.jsx("img",{src:R,alt:"face",className:"icon"}),s.jsx("img",{src:I,alt:"face",className:"icon"}),s.jsx("img",{src:O,alt:"face",className:"icon"}),s.jsx("span",{children:"@EFM Hub"})]})]}),s.jsxs("div",{className:"login-right",children:[s.jsx(U,{}),s.jsx("img",{src:A,alt:"Referral",className:"login-image"})]})]})})};export{X as default};
