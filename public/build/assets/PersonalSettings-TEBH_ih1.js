import{r as a,u as h,j as e,a as i,_ as l,d as y}from"./app-DwP5ZHId.js";import{c as H}from"./character-B_L2WyuU.js";import{D as Q}from"./DashboardLayout-D1zeXqou.js";import{s as d}from"./index-C4JomMCi.js";import{U as Z}from"./index-CRFB1BgG.js";const W="_container_1ope9_1",Y="_title_1ope9_15",J="_profileSection_1ope9_45",K="_profileImage_1ope9_67",X="_labelPersonals_1ope9_79",$="_profileInfo_1ope9_85",ee="_buttons_1ope9_95",se="_editButton_1ope9_105",te="_passwordButton_1ope9_107",ae="_icon_1ope9_129",oe="_formContainer_1ope9_139",le="_inputGroup_1ope9_151",ne="_modalOverlay_1ope9_193",re="_modalContent_1ope9_221",ie="_closeswButtones_1ope9_239",de="_switchSection_1ope9_383",ce="_label_1ope9_79",pe="_slider_1ope9_433",s={container:W,title:Y,profileSection:J,profileImage:K,labelPersonals:X,profileInfo:$,buttons:ee,editButton:se,passwordButton:te,icon:ae,formContainer:oe,inputGroup:le,modalOverlay:ne,"label-pertsonals":"_label-pertsonals_1ope9_215",modalContent:re,closeswButtones:ie,"label-pertsonal":"_label-pertsonal_1ope9_215",switchSection:de,label:ce,switch:"_switch_1ope9_383",slider:pe},ue="/build/assets/qr-irUB1BB-.svg",ge=()=>{const[v,c]=a.useState(!1),[N,m]=a.useState(!1),[p,P]=a.useState(null),[S,k]=a.useState(""),[x,B]=a.useState(""),[f,I]=a.useState(""),[w,g]=a.useState(null),z=h().props.app_url,b=h().props.auth.client,[r,u]=a.useState(b.is_2a),[j,L]=a.useState(""),[M,U]=a.useState(""),R=()=>{c(!0)},E=()=>{m(!0)},O=t=>{const n=t.target.files[0];if(n){const D=URL.createObjectURL(n);P(D),g(n)}},F=async()=>{try{if(w){const t=new FormData;t.append("profile_image",w);const n=await i.post(d("client.dashboard.update-profile-image"),t,{headers:{"Content-Type":"multipart/form-data"}});n.data.success?(l.success("Profile image updated successfully"),setTimeout(()=>{C(),g(null),y.Inertia.reload()},2e3)):l.error(n.data.message)}else l.error("Please select an image")}catch(t){l.error("Failed to update profile image"),console.error(t)}},T=async()=>{if(x===f){const t=await i.post(d("client.dashboard.change-password"),{current_password:S,new_password:x,new_password_confirmation:f});t.data.success?(l.success("Password changed successfully"),setTimeout(()=>{y.Inertia.reload(),setShowPasswordModal(!1)},2e3)):l.error(t.data.message)}else l.error("Passwords do not match")},C=()=>{c(!1)},_=()=>{m(!1)},G=()=>{u(!r),r?u(!1):i.get(d("client.dashboard.2fa-qr-url")).then(t=>{L(t.data.qrCodeUrl)})},q=()=>{i.post(d("client.dashboard.enable-2fa.post"),{code:M}).then(t=>{t.data.success?(setIs2faEnabled(!0),c(!1),l.success(t.data.message)):l.error(t.data.message)})},{auth:V}=h().props,o=V.client,A=o.profile_image?z+"/storage/"+o.profile_image:H;return e.jsx(Q,{children:e.jsxs("div",{className:s.container,children:[e.jsx("h2",{className:s.title,children:"Personal Settings"}),e.jsxs("div",{className:s.profileSection,children:[e.jsx("img",{src:A,alt:"Profile",className:s.profileImage}),e.jsxs("div",{className:s.profileInfo,children:[e.jsx("h3",{style:{fontSize:"18px",marginBottom:"5px"},children:o.name}),e.jsx("p",{style:{fontSize:"18px"},children:o.email})]}),e.jsxs("div",{className:s.buttons,children:[e.jsxs("button",{className:s.editButton,alt:"Edit Photo",onClick:R,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",className:s.icon,children:e.jsx("path",{d:"M11.9181 3.16443H5.09428C2.83307 3.16443 1 4.99744 1 7.25857V20.9059C1 23.167 2.83307 25 5.09428 25H18.7419C21.0031 25 22.8361 23.167 22.8361 20.9059L22.8361 14.0822M7.82379 18.1763L12.7892 17.1758C13.0528 17.1227 13.2949 16.9929 13.4849 16.8027L24.6005 5.6814C25.1335 5.14819 25.1331 4.28388 24.5997 3.75112L22.245 1.39917C21.7119 0.866627 20.848 0.86699 20.3153 1.39998L9.19852 12.5225C9.0088 12.7123 8.87926 12.9538 8.8261 13.2169L7.82379 18.1763Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Edit"]}),e.jsxs("button",{className:s.passwordButton,alt:"Change Password",onClick:E,children:[e.jsxs("svg",{style:{marginRight:"8px"},width:"25",height:"32",viewBox:"0 0 25 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M12.3636 1C8.10732 4.5825 5.43939 4.75 1 4.75V19.1687C1 24.9225 5.04419 26.4237 12.3636 31C19.6831 26.4237 23.7273 24.9225 23.7273 19.1687C23.7273 13.415 23.7273 4.75 23.7273 4.75C19.2879 4.75 16.6199 4.5825 12.3636 1Z",stroke:"white","stroke-width":"2","stroke-linejoin":"round"}),e.jsx("path",{d:"M7.5 13.3333V12.5714C7.5 10.039 9.50714 8 12 8C14.4929 8 16.5 10.039 16.5 12.5714V13.3333M7.5 13.3333C6.675 13.3333 6 14.019 6 14.8571V22.4762C6 23.3143 6.675 24 7.5 24H16.5C17.325 24 18 23.3143 18 22.4762V14.8571C18 14.019 17.325 13.3333 16.5 13.3333M7.5 13.3333H16.5M12 17.1429C12.825 17.1429 13.5 17.8286 13.5 18.6667C13.5 19.5048 12.825 20.1905 12 20.1905C11.175 20.1905 10.5 19.5048 10.5 18.6667C10.5 17.8286 11.175 17.1429 12 17.1429Z",stroke:"white"})]}),"Change Password"]})]})]}),e.jsxs("div",{className:s.switchSection,children:[e.jsx("span",{className:s.label,children:"Two Factor Authentication"}),e.jsxs("label",{className:s.switch,children:[e.jsx("input",{type:"checkbox",checked:r,onChange:G}),e.jsx("span",{className:s.slider})]})]}),e.jsx("div",{className:s.formContainer,children:e.jsxs("form",{children:[e.jsxs("div",{className:s.inputGroup,children:[e.jsxs("div",{children:[e.jsx("label",{className:s.labelPersonals,children:"Full Name"}),e.jsx("input",{type:"text",disabled:!0,value:o.name.split(" ")[0],style:{fontSize:"16px",color:"#DFBC8A"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:s.labelPersonals,children:"Last Name"}),e.jsx("input",{type:"text",disabled:!0,value:o.name.split(" ")[1],style:{fontSize:"16px"}})]})]}),e.jsxs("div",{className:s.inputGroup,children:[e.jsxs("div",{children:[e.jsx("label",{className:s.labelPersonals,children:"Telegram Username"}),e.jsx("input",{type:"text",disabled:!0,value:o.telegram_username,style:{fontSize:"16px"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:s.labelPersonals,children:"Username"}),e.jsx("input",{type:"text",disabled:!0,value:o.username,style:{fontSize:"16px"}})]})]}),e.jsxs("div",{className:s.inputGroup,children:[e.jsxs("div",{children:[e.jsx("label",{className:s.labelPersonals,children:"Email"}),e.jsx("input",{type:"email",disabled:!0,value:o.email,style:{fontSize:"16px"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:s.labelPersonals,children:"Phone Number"}),e.jsx(Z,{value:b.phone,disabled:!0,disableCountrySelector:!0,style:{fontSize:"16px"}})]})]})]})}),v&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md flex flex-col items-center space-y-5",children:[p&&e.jsx(e.Fragment,{children:e.jsx("img",{src:p,alt:"Profile Preview",className:"w-20 h-20 rounded-full shadow-sm"})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("input",{type:"file",accept:"image/*",onChange:O,className:"text-sm"})}),p&&e.jsx("button",{onClick:F,className:"bg-primary text-white p-2 rounded",children:"Update Image"}),e.jsx("button",{onClick:C,className:"text-white bg-black border border-black p-2 rounded",children:"Close"})]})}),N&&e.jsx("div",{className:s.modalOverlay,children:e.jsxs("div",{className:s.modalContent,children:[e.jsxs("div",{className:s.modalHeader,style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("h3",{children:"Change Password"}),e.jsx("button",{onClick:_,className:s.closeButton,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{cursor:"pointer",transition:"transform 0.2s",borderRadius:"50%",hover:{},padding:"4px",":hover":{transform:"scale(1.1)",stroke:"#d4a259"}},children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:s.passwordForm,children:[e.jsx("label",{className:s.label,children:"Current Password"}),e.jsx("input",{className:s.input,onChange:t=>k(t.target.value),type:"password",placeholder:"Current Password",style:{fontSize:"14px"}}),e.jsx("label",{className:s.label,children:"New Password"}),e.jsx("input",{className:s.input,onChange:t=>B(t.target.value),type:"password",placeholder:"New Password",style:{fontSize:"14px"}}),e.jsx("label",{className:s.label,children:"Confirm New Password"}),e.jsx("input",{className:s.input,onChange:t=>I(t.target.value),type:"password",placeholder:"Confirm New Password",style:{fontSize:"14px"}}),e.jsxs("div",{className:s.buttons,children:[e.jsx("button",{style:{backgroundColor:"#d4a259",color:"white",padding:"10px",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"10px",width:"50%"},onClick:T,children:"Save"}),e.jsx("button",{style:{backgroundColor:"#C7C7C7",color:"white",padding:"10px",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"10px",width:"50%"},onClick:_,children:"Cancel"})]})]})]})}),r&&j?e.jsx("div",{className:s.modalOverlay,children:e.jsxs("div",{className:s.modalContent,children:[e.jsx("h3",{style:{fontSize:"18px"},children:"Scan this QR Code to Enable 2FA"}),e.jsx("p",{style:{fontSize:"18px"},children:"Use your authenticator app to scan the QR code below. Please enter the code from your authenticator app to enable 2FA."}),e.jsx("div",{className:s.qrCode,children:e.jsx("img",{src:j,alt:"QR Code",style:{justifyContent:"center",margin:"0 auto",width:"60%"}})}),e.jsxs("div",{className:s.inputGroup,style:{position:"relative",width:"100%",textAlign:"center"},children:[e.jsx("img",{src:ue,alt:"Icon",style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"20px"}}),e.jsx("input",{type:"text",placeholder:"Enter Code",style:{width:"100%",padding:"10px 10px 10px 40px",border:"1px solid #ddd",borderRadius:"8px",outline:"none",fontSize:"14px",backgroundColor:"#f9f9f9"},onChange:t=>U(t.target.value)})]}),e.jsxs("div",{className:s.modalButtonContainer,children:[e.jsx("button",{onClick:q,style:{backgroundColor:"#d4a259",color:"white",padding:"10px",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"10px",width:"50%",fontSize:"18px"},children:"Enable"}),e.jsx("button",{style:{backgroundColor:"#C7C7C7",color:"white",padding:"10px",border:"none",borderRadius:"8px",cursor:"pointer",marginTop:"10px",width:"48%",marginLeft:"2px",fontSize:"18px"},onClick:()=>u(!1),children:"Cancel"})]})]})}):null]})})};export{ge as default};
