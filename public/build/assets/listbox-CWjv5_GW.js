import{r as a,R as T,f as N}from"./app-CS78o20K.js";import{s as ue,n as Z,M as le,W as V,y as H,u as B,o as x,p as de,H as K,$ as Se,a as he,w as ye,D as ce,b as $e,c as Ie,g as we,A as Ee,h as Le,d as $,j as Pe,F as se,_ as Me}from"./use-is-mounted-vAogGHfo.js";import{l as Te,T as Ce,j as De,p as ke}from"./form-fields-BtT-sGFS.js";import{K as Ae,E as _e,F as Fe,z as Ne,v as Ue,c as Qe,i as q,G as je,y as Be,b as Ve,H as He,L as Ke,x as ze,n as Ge,u as Ze,V as qe,m as We,f as Xe,g as Ye,p as Je,R as et,e as tt,h as ot,A as nt,t as it,j as rt,k as at,d as S,r as lt,l as ie}from"./use-text-value-CoyfpkrO.js";function st({title:e,titleId:n,...i},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":n},i),e?a.createElement("title",{id:n},e):null,a.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const jt=a.forwardRef(st);function ut({title:e,titleId:n,...i},o){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":n},i),e?a.createElement("title",{id:n},e):null,a.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}const Bt=a.forwardRef(ut);function dt(e,n){return e!==null&&n!==null&&typeof e=="object"&&typeof n=="object"&&"id"in e&&"id"in n?e.id===n.id:e===n}function ct(e=dt){return a.useCallback((n,i)=>{if(typeof e=="string"){let o=e;return(n==null?void 0:n[o])===(i==null?void 0:i[o])}return e(n,i)},[e])}function pt(e,n){let[i,o]=a.useState(n);return!e&&i!==n&&o(n),e?i:n}function ft(e,n){let[i,o]=a.useState(e),r=ue(e);return Z(()=>o(r.current),[r,o,...n]),i}var vt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(vt||{}),bt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(bt||{}),xt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(xt||{}),mt=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e))(mt||{});function re(e,n=i=>i){let i=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=Me(n(e.options.slice()),f=>f.dataRef.current.domRef.current),r=i?o.indexOf(i):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let gt={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let n=e.activeOptionIndex,{isSelected:i}=e.dataRef.current,o=e.options.findIndex(r=>i(r.dataRef.current.value));return o!==-1&&(n=o),{...e,listboxState:0,activeOptionIndex:n,__demoMode:!1}},2(e,n){var i,o,r,f,m;if(e.dataRef.current.disabled||e.listboxState===1)return e;let c={...e,searchQuery:"",activationTrigger:(i=n.trigger)!=null?i:1,__demoMode:!1};if(n.focus===S.Nothing)return{...c,activeOptionIndex:null};if(n.focus===S.Specific)return{...c,activeOptionIndex:e.options.findIndex(l=>l.id===n.id)};if(n.focus===S.Previous){let l=e.activeOptionIndex;if(l!==null){let t=e.options[l].dataRef.current.domRef,d=ie(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(d!==null){let p=e.options[d].dataRef.current.domRef;if(((o=t.current)==null?void 0:o.previousElementSibling)===p.current||((r=p.current)==null?void 0:r.previousElementSibling)===null)return{...c,activeOptionIndex:d}}}}else if(n.focus===S.Next){let l=e.activeOptionIndex;if(l!==null){let t=e.options[l].dataRef.current.domRef,d=ie(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(d!==null){let p=e.options[d].dataRef.current.domRef;if(((f=t.current)==null?void 0:f.nextElementSibling)===p.current||((m=p.current)==null?void 0:m.nextElementSibling)===null)return{...c,activeOptionIndex:d}}}}let u=re(e),g=ie(n,{resolveItems:()=>u.options,resolveActiveIndex:()=>u.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});return{...c,...u,activeOptionIndex:g}},3:(e,n)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let i=e.searchQuery!==""?0:1,o=e.searchQuery+n.value.toLowerCase(),r=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+i).concat(e.options.slice(0,e.activeOptionIndex+i)):e.options).find(m=>{var c;return!m.dataRef.current.disabled&&((c=m.dataRef.current.textValue)==null?void 0:c.startsWith(o))}),f=r?e.options.indexOf(r):-1;return f===-1||f===e.activeOptionIndex?{...e,searchQuery:o}:{...e,searchQuery:o,activeOptionIndex:f,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,n)=>{let i={id:n.id,dataRef:n.dataRef},o=re(e,r=>[...r,i]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(n.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(i)),{...e,...o}},6:(e,n)=>{let i=re(e,o=>{let r=o.findIndex(f=>f.id===n.id);return r!==-1&&o.splice(r,1),o});return{...e,...i,activationTrigger:1}}},ae=a.createContext(null);ae.displayName="ListboxActionsContext";function W(e){let n=a.useContext(ae);if(n===null){let i=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,W),i}return n}let X=a.createContext(null);X.displayName="ListboxDataContext";function z(e){let n=a.useContext(X);if(n===null){let i=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,z),i}return n}function Rt(e,n){return B(n.type,gt,e,n)}let Ot=a.Fragment;function St(e,n){var i;let o=_e(),{value:r,defaultValue:f,form:m,name:c,onChange:u,by:g,invalid:l=!1,disabled:t=o||!1,horizontal:d=!1,multiple:p=!1,__demoMode:C=!1,...D}=e;const _=d?"horizontal":"vertical";let F=H(n),L=Te(f),[h=p?[]:void 0,E]=Ce(r,u,L),[P,I]=a.useReducer(Rt,{dataRef:a.createRef(),listboxState:C?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,__demoMode:C}),A=a.useRef({static:!1,hold:!1}),v=a.useRef(null),M=a.useRef(null),U=a.useRef(new Map),R=ct(g),Q=a.useCallback(O=>B(b.mode,{1:()=>h.some(y=>R(y,O)),0:()=>R(h,O)}),[h]),b=a.useMemo(()=>({...P,value:h,disabled:t,invalid:l,mode:p?1:0,orientation:_,compare:R,isSelected:Q,optionsPropsRef:A,buttonRef:v,optionsRef:M,listRef:U}),[h,t,l,p,P,U]);Z(()=>{P.dataRef.current=b},[b]);let G=b.listboxState===0;Fe(G,[b.buttonRef,b.optionsRef],(O,y)=>{var k;I({type:1}),Ee(y,Le.Loose)||(O.preventDefault(),(k=b.buttonRef.current)==null||k.focus())});let Y=a.useMemo(()=>({open:b.listboxState===0,disabled:t,invalid:l,value:h}),[b,t,h,l]),J=x(O=>{let y=b.options.find(k=>k.id===O);y&&ne(y.dataRef.current.value)}),ee=x(()=>{if(b.activeOptionIndex!==null){let{dataRef:O,id:y}=b.options[b.activeOptionIndex];ne(O.current.value),I({type:2,focus:S.Specific,id:y})}}),te=x(()=>I({type:0})),s=x(()=>I({type:1})),w=de(),j=x((O,y,k)=>{w.dispose(),w.microTask(()=>O===S.Specific?I({type:2,focus:S.Specific,id:y,trigger:k}):I({type:2,focus:O,trigger:k}))}),oe=x((O,y)=>(I({type:5,id:O,dataRef:y}),()=>I({type:6,id:O}))),ne=x(O=>B(b.mode,{0(){return E==null?void 0:E(O)},1(){let y=b.value.slice(),k=y.findIndex(Oe=>R(Oe,O));return k===-1?y.push(O):y.splice(k,1),E==null?void 0:E(y)}})),fe=x(O=>I({type:3,value:O})),ve=x(()=>I({type:4})),be=a.useMemo(()=>({onChange:ne,registerOption:oe,goToOption:j,closeListbox:s,openListbox:te,selectActiveOption:ee,selectOption:J,search:fe,clearSearch:ve}),[]),[xe,me]=Ne({inherit:!0}),ge={ref:F},Re=a.useCallback(()=>{if(L!==void 0)return E==null?void 0:E(L)},[E,L]);return T.createElement(me,{value:xe,props:{htmlFor:(i=b.buttonRef.current)==null?void 0:i.id},slot:{open:b.listboxState===0,disabled:t}},T.createElement(Ue,null,T.createElement(ae.Provider,{value:be},T.createElement(X.Provider,{value:b},T.createElement(Qe,{value:B(b.listboxState,{0:q.Open,1:q.Closed})},c!=null&&h!=null&&T.createElement(De,{disabled:t,data:{[c]:h},form:m,onReset:Re}),K({ourProps:ge,theirProps:D,slot:Y,defaultTag:Ot,name:"Listbox"}))))))}let ht="button";function yt(e,n){var i;let o=z("Listbox.Button"),r=W("Listbox.Button"),f=a.useId(),m=je(),{id:c=m||`headlessui-listbox-button-${f}`,disabled:u=o.disabled||!1,autoFocus:g=!1,...l}=e,t=H(o.buttonRef,n,Be()),d=Ve(),p=x(R=>{switch(R.key){case $.Enter:ke(R.currentTarget);break;case $.Space:case $.ArrowDown:R.preventDefault(),N.flushSync(()=>r.openListbox()),o.value||r.goToOption(S.First);break;case $.ArrowUp:R.preventDefault(),N.flushSync(()=>r.openListbox()),o.value||r.goToOption(S.Last);break}}),C=x(R=>{switch(R.key){case $.Space:R.preventDefault();break}}),D=x(R=>{var Q;if(lt(R.currentTarget))return R.preventDefault();o.listboxState===0?(N.flushSync(()=>r.closeListbox()),(Q=o.buttonRef.current)==null||Q.focus({preventScroll:!0})):(R.preventDefault(),r.openListbox())}),_=x(R=>R.preventDefault()),F=He([c]),L=Ke(),{isFocusVisible:h,focusProps:E}=Se({autoFocus:g}),{isHovered:P,hoverProps:I}=he({isDisabled:u}),{pressed:A,pressProps:v}=ye({disabled:u}),M=a.useMemo(()=>({open:o.listboxState===0,active:A||o.listboxState===0,disabled:u,invalid:o.invalid,value:o.value,hover:P,focus:h,autofocus:g}),[o.listboxState,o.value,u,P,h,A,o.invalid,g]),U=ce(d(),{ref:t,id:c,type:$e(e,o.buttonRef),"aria-haspopup":"listbox","aria-controls":(i=o.optionsRef.current)==null?void 0:i.id,"aria-expanded":o.listboxState===0,"aria-labelledby":F,"aria-describedby":L,disabled:u||void 0,autoFocus:g,onKeyDown:p,onKeyUp:C,onKeyPress:_,onClick:D},E,I,v);return K({ourProps:U,theirProps:l,slot:M,defaultTag:ht,name:"Listbox.Button"})}let pe=a.createContext(!1),$t="div",It=le.RenderStrategy|le.Static;function wt(e,n){var i;let o=a.useId(),{id:r=`headlessui-listbox-options-${o}`,anchor:f,portal:m=!1,modal:c=!0,transition:u=!1,...g}=e,l=ze(f);l&&(m=!0);let t=z("Listbox.Options"),d=W("Listbox.Options"),p=Ge(t.optionsRef),C=Ze(),[D,_]=qe(u,t.optionsRef,C!==null?(C&q.Open)===q.Open:t.listboxState===0);We(D,t.buttonRef,d.closeListbox);let F=t.__demoMode?!1:c&&t.listboxState===0;Xe(F,p);let L=t.__demoMode?!1:c&&t.listboxState===0;Ye(L,{allowed:x(()=>[t.buttonRef.current,t.optionsRef.current])});let h=t.listboxState!==0,E=Je(h,t.buttonRef)?!1:D,P=D&&t.listboxState===1,I=pt(P,t.value),A=x(s=>t.compare(I,s)),v=a.useMemo(()=>{var s;if(l==null||!((s=l==null?void 0:l.to)!=null&&s.includes("selection")))return null;let w=t.options.findIndex(j=>A(j.dataRef.current.value));return w===-1&&(w=0),w},[l,t.options]),M=(()=>{if(l==null)return;if(v===null)return{...l,inner:void 0};let s=Array.from(t.listRef.current.values());return{...l,inner:{listRef:{current:s},index:v}}})(),[U,R]=et(M),Q=tt(),b=H(t.optionsRef,n,l?U:null),G=de();a.useEffect(()=>{var s;let w=t.optionsRef.current;w&&t.listboxState===0&&w!==((s=Ie(w))==null?void 0:s.activeElement)&&(w==null||w.focus({preventScroll:!0}))},[t.listboxState,t.optionsRef,t.optionsRef.current]);let Y=x(s=>{var w,j;switch(G.dispose(),s.key){case $.Space:if(t.searchQuery!=="")return s.preventDefault(),s.stopPropagation(),d.search(s.key);case $.Enter:if(s.preventDefault(),s.stopPropagation(),t.activeOptionIndex!==null){let{dataRef:oe}=t.options[t.activeOptionIndex];d.onChange(oe.current.value)}t.mode===0&&(N.flushSync(()=>d.closeListbox()),(w=t.buttonRef.current)==null||w.focus({preventScroll:!0}));break;case B(t.orientation,{vertical:$.ArrowDown,horizontal:$.ArrowRight}):return s.preventDefault(),s.stopPropagation(),d.goToOption(S.Next);case B(t.orientation,{vertical:$.ArrowUp,horizontal:$.ArrowLeft}):return s.preventDefault(),s.stopPropagation(),d.goToOption(S.Previous);case $.Home:case $.PageUp:return s.preventDefault(),s.stopPropagation(),d.goToOption(S.First);case $.End:case $.PageDown:return s.preventDefault(),s.stopPropagation(),d.goToOption(S.Last);case $.Escape:s.preventDefault(),s.stopPropagation(),N.flushSync(()=>d.closeListbox()),(j=t.buttonRef.current)==null||j.focus({preventScroll:!0});return;case $.Tab:s.preventDefault(),s.stopPropagation(),N.flushSync(()=>d.closeListbox()),Pe(t.buttonRef.current,s.shiftKey?se.Previous:se.Next);break;default:s.key.length===1&&(d.search(s.key),G.setTimeout(()=>d.clearSearch(),350));break}}),J=ft(()=>{var s;return(s=t.buttonRef.current)==null?void 0:s.id},[t.buttonRef.current]),ee=a.useMemo(()=>({open:t.listboxState===0}),[t.listboxState]),te=ce(l?Q():{},{id:r,ref:b,"aria-activedescendant":t.activeOptionIndex===null||(i=t.options[t.activeOptionIndex])==null?void 0:i.id,"aria-multiselectable":t.mode===1?!0:void 0,"aria-labelledby":J,"aria-orientation":t.orientation,onKeyDown:Y,role:"listbox",tabIndex:t.listboxState===0?0:void 0,style:{...g.style,...R,"--button-width":ot(t.buttonRef,!0).width},...nt(_)});return T.createElement(it,{enabled:m?e.static||D:!1},T.createElement(X.Provider,{value:t.mode===1?t:{...t,isSelected:A}},K({ourProps:te,theirProps:g,slot:ee,defaultTag:$t,features:It,visible:E,name:"Listbox.Options"})))}let Et="div";function Lt(e,n){let i=a.useId(),{id:o=`headlessui-listbox-option-${i}`,disabled:r=!1,value:f,...m}=e,c=a.useContext(pe)===!0,u=z("Listbox.Option"),g=W("Listbox.Option"),l=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===o:!1,t=u.isSelected(f),d=a.useRef(null),p=rt(d),C=ue({disabled:r,value:f,domRef:d,get textValue(){return p()}}),D=H(n,d,v=>{v?u.listRef.current.set(o,v):u.listRef.current.delete(o)});Z(()=>{if(!u.__demoMode&&u.listboxState===0&&l&&u.activationTrigger!==0)return we().requestAnimationFrame(()=>{var v,M;(M=(v=d.current)==null?void 0:v.scrollIntoView)==null||M.call(v,{block:"nearest"})})},[d,l,u.__demoMode,u.listboxState,u.activationTrigger,u.activeOptionIndex]),Z(()=>{if(!c)return g.registerOption(o,C)},[C,o,c]);let _=x(v=>{var M;if(r)return v.preventDefault();g.onChange(f),u.mode===0&&(N.flushSync(()=>g.closeListbox()),(M=u.buttonRef.current)==null||M.focus({preventScroll:!0}))}),F=x(()=>{if(r)return g.goToOption(S.Nothing);g.goToOption(S.Specific,o)}),L=at(),h=x(v=>{L.update(v),!r&&(l||g.goToOption(S.Specific,o,0))}),E=x(v=>{L.wasMoved(v)&&(r||l||g.goToOption(S.Specific,o,0))}),P=x(v=>{L.wasMoved(v)&&(r||l&&g.goToOption(S.Nothing))}),I=a.useMemo(()=>({active:l,focus:l,selected:t,disabled:r,selectedOption:t&&c}),[l,t,r,c]);return!t&&c?null:K({ourProps:c?{}:{id:o,ref:D,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":t,disabled:void 0,onClick:_,onFocus:F,onPointerEnter:h,onMouseEnter:h,onPointerMove:E,onMouseMove:E,onPointerLeave:P,onMouseLeave:P},theirProps:m,slot:I,defaultTag:Et,name:"Listbox.Option"})}let Pt=a.Fragment;function Mt(e,n){let{options:i,placeholder:o,...r}=e,f={ref:H(n)},m=z("ListboxSelectedOption"),c=a.useMemo(()=>({}),[]),u=m.value===void 0||m.value===null||m.mode===1&&Array.isArray(m.value)&&m.value.length===0;return T.createElement(pe.Provider,{value:!0},K({ourProps:f,theirProps:{...r,children:T.createElement(T.Fragment,null,o&&u?o:i)},slot:c,defaultTag:Pt,name:"ListboxSelectedOption"}))}let Tt=V(St),Ct=V(yt),Dt=Ae,kt=V(wt),At=V(Lt),_t=V(Mt),Vt=Object.assign(Tt,{Button:Ct,Label:Dt,Options:kt,Option:At,SelectedOption:_t});export{Bt as F,Vt as M,jt as a};
