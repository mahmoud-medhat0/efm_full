import{r as ce,e as Z,f as de,M as X,W as G,s as _,y as B,o as k,n as H,H as N,$ as ee,a as fe,w as pe,D as te,b as be,u as U,_ as O,k as q,c as xe,d as T,P as R,F as I,t as ge}from"./use-is-mounted-BTjpilq7.js";import{r as s,R as S}from"./app-Dq6YNcy5.js";function me({onFocus:e}){let[t,n]=s.useState(!0),r=ce();return t?S.createElement(Z,{as:"button",type:"button",features:de.Focusable,onFocus:l=>{l.preventDefault();let a,u=50;function f(){if(u--<=0){a&&cancelAnimationFrame(a);return}if(e()){if(cancelAnimationFrame(a),!r.current)return;n(!1);return}a=requestAnimationFrame(f)}a=requestAnimationFrame(f)}}):null}const re=s.createContext(null);function ve(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let l=(n=r.get(t))!=null?n:0;r.set(t,l+1);let a=Array.from(r.keys()).indexOf(t);function u(){let f=r.get(t);f>1?r.set(t,f-1):r.delete(t)}return[a,u]}}}function Te({children:e}){let t=s.useRef(ve());return s.createElement(re.Provider,{value:t},e)}function ne(e){let t=s.useContext(re);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=s.useId(),[r,l]=t.current.get(e,n);return s.useEffect(()=>l,[]),r}var Ie=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ie||{}),Pe=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Pe||{}),he=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(he||{});let $e={0(e,t){var n;let r=O(e.tabs,i=>i.current),l=O(e.panels,i=>i.current),a=r.filter(i=>{var x;return!((x=i.current)!=null&&x.hasAttribute("disabled"))}),u={...e,tabs:r,panels:l};if(t.index<0||t.index>r.length-1){let i=U(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>U(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(a.length===0)return u;let x=U(i,{0:()=>r.indexOf(a[0]),1:()=>r.indexOf(a[a.length-1])});return{...u,selectedIndex:x===-1?e.selectedIndex:x}}let f=r.slice(0,t.index),P=[...r.slice(t.index),...f].find(i=>a.includes(i));if(!P)return u;let b=(n=r.indexOf(P))!=null?n:e.selectedIndex;return b===-1&&(b=e.selectedIndex),{...u,selectedIndex:b}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=O([...e.tabs,t.tab],a=>a.current),l=e.selectedIndex;return e.info.current.isControlled||(l=r.indexOf(n),l===-1&&(l=e.selectedIndex)),{...e,tabs:r,selectedIndex:l}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:O([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},V=s.createContext(null);V.displayName="TabsDataContext";function C(e){let t=s.useContext(V);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,C),n}return t}let J=s.createContext(null);J.displayName="TabsActionsContext";function Y(e){let t=s.useContext(J);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Y),n}return t}function Ee(e,t){return U(t.type,$e,e,t)}let ye="div";function we(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:l=!1,onChange:a,selectedIndex:u=null,...f}=e;const P=r?"vertical":"horizontal",b=l?"manual":"auto";let i=u!==null,x=_({isControlled:i}),A=B(t),[p,c]=s.useReducer(Ee,{info:x,selectedIndex:u??n,tabs:[],panels:[]}),D=s.useMemo(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),g=_(a||(()=>{})),E=_(p.tabs),v=s.useMemo(()=>({orientation:P,activation:b,...p}),[P,b,p]),m=k(d=>(c({type:1,tab:d}),()=>c({type:2,tab:d}))),y=k(d=>(c({type:3,panel:d}),()=>c({type:4,panel:d}))),w=k(d=>{F.current!==d&&g.current(d),i||c({type:0,index:d})}),F=_(i?e.selectedIndex:p.selectedIndex),L=s.useMemo(()=>({registerTab:m,registerPanel:y,change:w}),[]);H(()=>{c({type:0,index:u??n})},[u]),H(()=>{if(F.current===void 0||p.tabs.length<=0)return;let d=O(p.tabs,h=>h.current);d.some((h,M)=>p.tabs[M]!==h)&&w(d.indexOf(p.tabs[F.current]))});let z={ref:A};return S.createElement(Te,null,S.createElement(J.Provider,{value:L},S.createElement(V.Provider,{value:v},v.tabs.length<=0&&S.createElement(me,{onFocus:()=>{var d,h;for(let M of E.current)if(((d=M.current)==null?void 0:d.tabIndex)===0)return(h=M.current)==null||h.focus(),!0;return!1}}),N({ourProps:z,theirProps:f,slot:D,defaultTag:ye,name:"Tabs"}))))}let Fe="div";function ke(e,t){let{orientation:n,selectedIndex:r}=C("Tab.List"),l=B(t),a=s.useMemo(()=>({selectedIndex:r}),[r]);return N({ourProps:{ref:l,role:"tablist","aria-orientation":n},theirProps:e,slot:a,defaultTag:Fe,name:"Tabs.List"})}let Ae="button";function Me(e,t){var n,r;let l=s.useId(),{id:a=`headlessui-tabs-tab-${l}`,disabled:u=!1,autoFocus:f=!1,...P}=e,{orientation:b,activation:i,selectedIndex:x,tabs:A,panels:p}=C("Tab"),c=Y("Tab"),D=C("Tab"),g=s.useRef(null),E=B(g,t);H(()=>c.registerTab(g),[c,g]);let v=ne("tabs"),m=A.indexOf(g);m===-1&&(m=v);let y=m===x,w=k(o=>{var $;let W=o();if(W===q.Success&&i==="auto"){let oe=($=xe(g))==null?void 0:$.activeElement,Q=D.tabs.findIndex(ie=>ie.current===oe);Q!==-1&&c.change(Q)}return W}),F=k(o=>{let $=A.map(W=>W.current).filter(Boolean);if(o.key===T.Space||o.key===T.Enter){o.preventDefault(),o.stopPropagation(),c.change(m);return}switch(o.key){case T.Home:case T.PageUp:return o.preventDefault(),o.stopPropagation(),w(()=>R($,I.First));case T.End:case T.PageDown:return o.preventDefault(),o.stopPropagation(),w(()=>R($,I.Last))}if(w(()=>U(b,{vertical(){return o.key===T.ArrowUp?R($,I.Previous|I.WrapAround):o.key===T.ArrowDown?R($,I.Next|I.WrapAround):q.Error},horizontal(){return o.key===T.ArrowLeft?R($,I.Previous|I.WrapAround):o.key===T.ArrowRight?R($,I.Next|I.WrapAround):q.Error}}))===q.Success)return o.preventDefault()}),L=s.useRef(!1),z=k(()=>{var o;L.current||(L.current=!0,(o=g.current)==null||o.focus({preventScroll:!0}),c.change(m),ge(()=>{L.current=!1}))}),d=k(o=>{o.preventDefault()}),{isFocusVisible:h,focusProps:M}=ee({autoFocus:f}),{isHovered:j,hoverProps:ae}=fe({isDisabled:u}),{pressed:K,pressProps:se}=pe({disabled:u}),le=s.useMemo(()=>({selected:y,hover:j,active:K,focus:h,autofocus:f,disabled:u}),[y,j,h,K,f,u]),ue=te({ref:E,onKeyDown:F,onMouseDown:d,onClick:z,id:a,role:"tab",type:be(e,g),"aria-controls":(r=(n=p[m])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":y,tabIndex:y?0:-1,disabled:u||void 0,autoFocus:f},M,ae,se);return N({ourProps:ue,theirProps:P,slot:le,defaultTag:Ae,name:"Tabs.Tab"})}let Re="div";function Se(e,t){let{selectedIndex:n}=C("Tab.Panels"),r=B(t),l=s.useMemo(()=>({selectedIndex:n}),[n]);return N({ourProps:{ref:r},theirProps:e,slot:l,defaultTag:Re,name:"Tabs.Panels"})}let Ce="div",De=X.RenderStrategy|X.Static;function Le(e,t){var n,r,l,a;let u=s.useId(),{id:f=`headlessui-tabs-panel-${u}`,tabIndex:P=0,...b}=e,{selectedIndex:i,tabs:x,panels:A}=C("Tab.Panel"),p=Y("Tab.Panel"),c=s.useRef(null),D=B(c,t);H(()=>p.registerPanel(c),[p,c]);let g=ne("panels"),E=A.indexOf(c);E===-1&&(E=g);let v=E===i,{isFocusVisible:m,focusProps:y}=ee(),w=s.useMemo(()=>({selected:v,focus:m}),[v,m]),F=te({ref:D,id:f,role:"tabpanel","aria-labelledby":(r=(n=x[E])==null?void 0:n.current)==null?void 0:r.id,tabIndex:v?P:-1},y);return!v&&((l=b.unmount)==null||l)&&!((a=b.static)!=null&&a)?S.createElement(Z,{"aria-hidden":"true",...F}):N({ourProps:F,theirProps:b,slot:w,defaultTag:Ce,features:De,visible:v,name:"Tabs.Panel"})}let Oe=G(Me),Ue=G(we),Ge=G(ke),Be=G(Se),Ne=G(Le),qe=Object.assign(Oe,{Group:Ue,List:Ge,Panels:Be,Panel:Ne});export{qe as s};
